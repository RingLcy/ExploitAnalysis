# CVE-2017-5070

## 参考
1. [POC Code](https://chromium.googlesource.com/v8/v8.git/+/e33fd30777f99a0d6e16b16d096a2663b1031457)
2. [Exploit Code](https://bugs.chromium.org/p/chromium/issues/detail?id=722756)
3. [有问题的V8](https://chromium.googlesource.com/v8/v8/+/5.8-lkgr)

## Root Cause

大致分析是double_arr2的map给修改, 引发类型混淆

进一步确定root cause 

![](CVE-2017-5070/CVE-2017-50700.png)

OPT Code 如下：
![](CVE-2017-5070/CVE-2017-50701.png)

可以看出，由于 arr[0] = {}， double_arr2 由[1, 6.176516726456e-312] 变成了 [{}, 6.176516726456e-312], 触发了transition

![](CVE-2017-5070/CVE-2017-50702.png)

![](CVE-2017-5070/CVE-2017-50703.png)
